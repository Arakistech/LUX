<!DOCTYPE html>
<!-- This site was created in Webflow. http://www.webflow.com -->
<!-- Last Published: Wed Sep 25 2019 22:19:18 GMT+0000 (UTC) -->
<html data-wf-domain="mapbox-scrollytelling.webflow.io" data-wf-page="5d88f370c5599e073bb22cc0" data-wf-site="5d88f370c5599e348fb22cbe" class="w-mod-js wf-oswald-n2-active wf-oswald-n3-active wf-oswald-n7-active wf-oswald-n4-active wf-oswald-n5-active wf-oswald-n6-active wf-active"><head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8"><meta charset="utf-8"><title>Mapbox Scrollytelling</title><meta content="width=device-width, initial-scale=1" name="viewport"><meta content="Webflow" name="generator"><link href="Mapbox%20Scrollytelling_files/mapbox-scrollytelling.webflow.415356cca.css" rel="stylesheet" type="text/css"><script src="Mapbox%20Scrollytelling_files/webfont.js" type="text/javascript"></script><link rel="stylesheet" href="Mapbox%20Scrollytelling_files/css.css" media="all"><script type="text/javascript">WebFont.load({  google: {    families: ["Oswald:200,300,400,500,600,700"]  }});</script><!--[if lt IE 9]><script src="https://cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv.min.js" type="text/javascript"></script><![endif]--><script type="text/javascript">!function(o,c){var n=c.documentElement,t=" w-mod-";n.className+=t+"js",("ontouchstart"in o||o.DocumentTouch&&c instanceof DocumentTouch)&&(n.className+=t+"touch")}(window,document);</script><link href="https://assets.website-files.com/img/favicon.ico" rel="shortcut icon" type="image/x-icon"><link href="https://assets.website-files.com/img/webclip.png" rel="apple-touch-icon"><link href="Mapbox%20Scrollytelling_files/5d8b9e9b916e2bac8bac604b_mapbox_gl.txt" rel="stylesheet">

<style>
.mapboxgl-canvas {
-webkit-tap-highlight-color: rgba(0, 0, 0, 0);
}
.mapboxgl-canvas:focus {
outline:none;
}
</style></head><body class="body"><div class="page-wrap"><div id="map" class="map mapboxgl-map"><div class="mapboxgl-canary" style="visibility: hidden;"></div><div class="mapboxgl-canvas-container"><canvas class="mapboxgl-canvas" style="position: absolute; width: 760px; height: 778px;" tabindex="0" aria-label="Map" width="950" height="972"></canvas></div><div class="mapboxgl-control-container"><div class="mapboxgl-ctrl-top-left"></div><div class="mapboxgl-ctrl-top-right"></div><div class="mapboxgl-ctrl-bottom-left"><div class="mapboxgl-ctrl" style="display: block;"><a class="mapboxgl-ctrl-logo" target="_blank" rel="noopener nofollow" href="https://www.mapbox.com/" aria-label="Mapbox logo"></a></div></div><div class="mapboxgl-ctrl-bottom-right"><div class="mapboxgl-ctrl mapboxgl-ctrl-attrib"><div class="mapboxgl-ctrl-attrib-inner"><a href="https://www.mapbox.com/about/maps/" target="_blank" title="Mapbox" aria-label="Mapbox" role="listitem">© Mapbox</a> <a href="https://www.openstreetmap.org/about/" target="_blank" title="OpenStreetMap" aria-label="OpenStreetMap" role="listitem">© OpenStreetMap</a> <a class="mapbox-improve-map" href="https://apps.mapbox.com/feedback/?owner=mapbox&amp;id=light-v10&amp;access_token=pk.eyJ1IjoiY2hlcnNoODciLCJhIjoiY2swd205OWZvMGxoajNnbmRsY2M1MTltaCJ9.2C2eGiNunjhbtBn4Z7DyZQ" target="_blank" title="Improve this map" aria-label="Improve this map" role="listitem" rel="noopener nofollow">Improve this map</a></div></div></div></div></div><div class="nav-wrap"><nav class="nav__inner-wrap"><a href="#chinatown" class="nav-item w-inline-block w--current"></a><a href="#coit-tower" class="nav-item w-inline-block"></a><a href="#north-beach" class="nav-item w-inline-block"></a><a href="#fishermans-wharf" class="nav-item w-inline-block"></a><a href="#nob-hill" class="nav-item w-inline-block"></a><a href="#fairmont" class="nav-item w-inline-block"></a><a href="#ferry-building" class="nav-item w-inline-block"></a><a href="#market-street" class="nav-item w-inline-block"></a></nav></div><div id="features" class="features"><div class="intro-section"><h1 class="intro-title">Lux Bistro Bar</h1><p class="intro__sub-title">Scroll Down To Explore</p></div><div id="chinatown" class="section active"><div class="section__inner-wrap"><h1 class="heading"><span class="number">01</span> Chinatown</h1><p>Lorem
 ipsum dolor sit amet, consectetur adipiscing elit. Suspendisse varius 
enim in eros elementum tristique. Duis cursus, mi quis viverra ornare, 
eros dolor interdum nulla, ut commodo diam libero vitae erat. Aenean 
faucibus nibh et justo cursus id rutrum lorem imperdiet. Nunc ut sem 
vitae risus tristique posuere.</p></div></div><div id="coit-tower" class="section"><div class="section__inner-wrap"><h1 class="heading"><span class="number">02</span> Coit&nbsp;Tower</h1><p>Lorem
 ipsum dolor sit amet, consectetur adipiscing elit. Suspendisse varius 
enim in eros elementum tristique. Duis cursus, mi quis viverra ornare, 
eros dolor interdum nulla, ut commodo diam libero vitae erat. Aenean 
faucibus nibh et justo cursus id rutrum lorem imperdiet. Nunc ut sem 
vitae risus tristique posuere.</p></div></div><div id="north-beach" class="section"><div class="section__inner-wrap"><h1 class="heading"><span class="number">03</span> North&nbsp;Beach</h1><p>Lorem
 ipsum dolor sit amet, consectetur adipiscing elit. Suspendisse varius 
enim in eros elementum tristique. Duis cursus, mi quis viverra ornare, 
eros dolor interdum nulla, ut commodo diam libero vitae erat. Aenean 
faucibus nibh et justo cursus id rutrum lorem imperdiet. Nunc ut sem 
vitae risus tristique posuere.</p></div></div><div id="fishermans-wharf" class="section"><div class="section__inner-wrap"><h1 class="heading"><span class="number">04</span> Fishermans Wharf</h1><p>Lorem
 ipsum dolor sit amet, consectetur adipiscing elit. Suspendisse varius 
enim in eros elementum tristique. Duis cursus, mi quis viverra ornare, 
eros dolor interdum nulla, ut commodo diam libero vitae erat. Aenean 
faucibus nibh et justo cursus id rutrum lorem imperdiet. Nunc ut sem 
vitae risus tristique posuere.</p></div></div><div id="nob-hill" class="section"><div class="section__inner-wrap"><h1 class="heading"><span class="number">05</span> Nob Hill</h1><p>Lorem
 ipsum dolor sit amet, consectetur adipiscing elit. Suspendisse varius 
enim in eros elementum tristique. Duis cursus, mi quis viverra ornare, 
eros dolor interdum nulla, ut commodo diam libero vitae erat. Aenean 
faucibus nibh et justo cursus id rutrum lorem imperdiet. Nunc ut sem 
vitae risus tristique posuere.</p></div></div><div id="fairmont" class="section"><div class="section__inner-wrap"><h1 class="heading"><span class="number">06</span> Fairmont</h1><p>Lorem
 ipsum dolor sit amet, consectetur adipiscing elit. Suspendisse varius 
enim in eros elementum tristique. Duis cursus, mi quis viverra ornare, 
eros dolor interdum nulla, ut commodo diam libero vitae erat. Aenean 
faucibus nibh et justo cursus id rutrum lorem imperdiet. Nunc ut sem 
vitae risus tristique posuere.</p></div></div><div id="ferry-building" class="section"><div class="section__inner-wrap"><h1 class="heading"><span class="number">07</span> Ferry Building</h1><p>Lorem
 ipsum dolor sit amet, consectetur adipiscing elit. Suspendisse varius 
enim in eros elementum tristique. Duis cursus, mi quis viverra ornare, 
eros dolor interdum nulla, ut commodo diam libero vitae erat. Aenean 
faucibus nibh et justo cursus id rutrum lorem imperdiet. Nunc ut sem 
vitae risus tristique posuere.</p></div></div><div id="market-street" class="section"><div class="section__inner-wrap"><h1 class="heading"><span class="number">08</span> Market Street</h1><p>Lorem
 ipsum dolor sit amet, consectetur adipiscing elit. Suspendisse varius 
enim in eros elementum tristique. Duis cursus, mi quis viverra ornare, 
eros dolor interdum nulla, ut commodo diam libero vitae erat. Aenean 
faucibus nibh et justo cursus id rutrum lorem imperdiet. Nunc ut sem 
vitae risus tristique posuere.</p></div></div><div class="footer-wrap"></div></div></div><script src="Mapbox%20Scrollytelling_files/jquery-3.4.1.min.220afd743d.js" type="text/javascript" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><script src="Mapbox%20Scrollytelling_files/webflow.1bc56dc86.js" type="text/javascript"></script><!--[if lte IE 9]><script src="//cdnjs.cloudflare.com/ajax/libs/placeholders/3.0.2/placeholders.min.js"></script><![endif]--><script src="Mapbox%20Scrollytelling_files/mapbox-gl.js"></script>

<script>
mapboxgl.accessToken = 'pk.eyJ1IjoiY2hlcnNoODciLCJhIjoiY2swd205OWZvMGxoajNnbmRsY2M1MTltaCJ9.2C2eGiNunjhbtBn4Z7DyZQ';

var map = new mapboxgl.Map({
    container: 'map',
    style: 'mapbox://styles/mapbox/light-v10',
center: [150.8966428711643, -34.424838253323756], 
zoom: 15.5,
pitch: 45,
bearing: -17.6,
container: 'map',
antialias: true,
interactive: false
});
 
// The 'building' layer in the mapbox-streets vector source contains building-height
// data from OpenStreetMap.
map.on('load', function() {
// Insert the layer beneath any symbol layer.
var layers = map.getStyle().layers;
 
var labelLayerId;
for (var i = 0; i < layers.length; i++) {
if (layers[i].type === 'symbol' && layers[i].layout['text-field']) {
labelLayerId = layers[i].id;
break;
}
}
 
map.addLayer({
'id': '3d-buildings',
'source': 'composite',
'source-layer': 'building',
'filter': ['==', 'extrude', 'true'],
'type': 'fill-extrusion',
'minzoom': 15,
'paint': {
'fill-extrusion-color': '#aaa',
 
// use an 'interpolate' expression to add a smooth transition effect to the
// buildings as the user zooms in
'fill-extrusion-height': [
"interpolate", ["linear"], ["zoom"],
15, 0,
15.05, ["get", "height"]
],
'fill-extrusion-base': [
"interpolate", ["linear"], ["zoom"],
15, 0,
15.05, ["get", "min_height"]
],
'fill-extrusion-opacity': .6
}
}, labelLayerId);
});

var chapters = {
    'chinatown': {
        bearing: -17.6,
        center: [-122.407702, 37.793244],
        zoom: 15.5,
        pitch: 45
    },
    'coit-tower': {
        duration: 5000,
        center: [-122.4063694, 37.802396],
        bearing: 27,
        zoom: 17.5,
        pitch: 90
    },
    'north-beach': {
        bearing: 27,
        duration: 5000,
        center: [-122.4169511, 37.8047288],
        zoom: 16,
        pitch: 40
    },
    'fishermans-wharf': {
        bearing: 90,
        duration: 5000,
        center: [-122.4253858, 37.8081269],
        zoom: 16
    },
    'nob-hill': {
        bearing: 27,
        duration: 5000,
        center: [-122.4204894, 37.7929521],
        zoom: 16,
        pitch: 40,
    },
    'fairmont': {
        bearing: 90,
        duration: 5000,
        center: [-122.412633, 37.7923939],
        zoom: 17,
        pitch: 60
    },
    'ferry-building': {
        bearing: 120,
        duration: 5000,
        center: [-122.3955095, 37.7955745],
        zoom: 17.3,
        pitch: 60
    },
    'market-street': {
        bearing: 90,
        duration: 5000,
        center: [-122.4025016, 37.789555],
        zoom: 14.3,
        pitch: 20
    }
};

// On every scroll event, check which element is on screen
window.onscroll = function() {
    var chapterNames = Object.keys(chapters);
    for (var i = 0; i < chapterNames.length; i++) {
        var chapterName = chapterNames[i];
        if (isElementOnScreen(chapterName)) {
            setActiveChapter(chapterName);
            break;
        }
    }
};

var activeChapterName = 'chinatown';
function setActiveChapter(chapterName) {
    if (chapterName === activeChapterName) return;

    map.flyTo(chapters[chapterName]);

    document.getElementById(chapterName).setAttribute('class', 'active');
    document.getElementById(activeChapterName).setAttribute('class', '');

    activeChapterName = chapterName;
}

function isElementOnScreen(id) {
    var element = document.getElementById(id);
    var bounds = element.getBoundingClientRect();
    return bounds.top < window.innerHeight && bounds.bottom > 300;
}

</script>
</body></html>